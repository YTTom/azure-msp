# -*- coding: utf-8 -*-

from flask import Flask
import requests

app = Flask(__name__)

@app.route('/<subscription>/list_aks/<token>')
def index(subscription, token):
    headers = { 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IlNzWnNCTmhaY0YzUTlTNHRycFFCVEJ5TlJSSSIsImtpZCI6IlNzWnNCTmhaY0YzUTlTNHRycFFCVEJ5TlJSSSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8zOTc4YTIzNi02NjAxLTQ5M2UtYjY2Mi00OTQzM2YyNTczNTQvIiwiaWF0IjoxNTkyMzY4NjcyLCJuYmYiOjE1OTIzNjg2NzIsImV4cCI6MTU5MjM3MjU3MiwiYWNyIjoiMSIsImFpbyI6IkFXUUFtLzhQQUFBQUhiYURBZG91OWFxaDR0ZVNuTXFmOW9yem1EVExJVkZPVEZ3Z2kzUXNnV3pndm5rQlIvaEJ1Y1N4Zk9CUVNUSUt0MXBkVzExdS9CV2l0T24zUFNXdEkxNFhiV2VzOWZDTkJLQXZUdHlEWTZkUTZDSjhvN1k0ZG9LT1IxUk5Temh4IiwiYWx0c2VjaWQiOiI1OjoxMDAzMjAwMEM2QjQ4ODQ2IiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6IjdmNTlhNzczLTJlYWYtNDI5Yy1hMDU5LTUwZmM1YmIyOGI0NCIsImFwcGlkYWNyIjoiMiIsImVtYWlsIjoid2VuZGFAY2h0Y3Nwc3RldmVuLm9ubWljcm9zb2Z0LmNvbSIsImZhbWlseV9uYW1lIjoibGlhbiIsImdpdmVuX25hbWUiOiJ3ZW5kYSIsImlkcCI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0LzE2ODhhMjZkLWVmMGEtNGYzYS1iMzdlLWExMjI0ZmQ3MDNhOC8iLCJpcGFkZHIiOiIyMTAuNzEuMjE3LjI0NSIsIm5hbWUiOiJUTOmAo-aWh-mBlCIsIm9pZCI6IjJmNjAyY2RmLWZjZDQtNDE0Mi05ZjRhLTQ2NGM4NjU3Mjc0NiIsInB1aWQiOiIxMDAzMjAwMEM4REJDODJDIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoieVZuLVY3Tkg4Y1JaUUVuZThIVGcxbnBMSHRqYTQ3dURBMEI3M3VkU0llQSIsInRpZCI6IjM5NzhhMjM2LTY2MDEtNDkzZS1iNjYyLTQ5NDMzZjI1NzM1NCIsInVuaXF1ZV9uYW1lIjoid2VuZGFAY2h0Y3Nwc3RldmVuLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6InV5cWpVaUI3aUV5blpETTA2bEljQUEiLCJ2ZXIiOiIxLjAifQ.OBdOmS1KDhBCdeX7bYXa5yF23fBBt6FVpWtki_j8oQCqp9T-S6o7i_fp4XQDWfW4HnJ-9O9LeBidP9ZqazLRVhzUK9OQ0txiCoyOswo0saAoA2bYKpRWV01XYiR8nIIH_Oq_m_fimThJk2FZIgOPXE5cWrlMC39MA7PgGGVqndKX90av17nLP7oMZW3f02gdBZJZz2XUkEyB7JFW5cz6W3yB4YQmv-Nx--4-Tvdos8B8Xg3HUgcQNdig6UCtEOW5KhCQeCuG_9OaOsEcLSFqUg5VdzVAcuOJzWUvLm7sfQbDzVqaQNecynXnzRJDW57bDwU4Raa9c-vNUxSsHEjyJQ', 'Content-Type': 'application/json' }
    resp = requests.get('https://management.azure.com/subscriptions/65693715-2c2a-417a-9f04-74267c582a7b/providers/Microsoft.ContainerService/managedClusters?api-version=2020-04-01', headers=headers)
    aks_list = resp.text
    return aks_list

app.run(host='0.0.0.0',debug=True)
